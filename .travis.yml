language: elixir

matrix:
  include:
    - elixir: 1.10.4
      otp_release: 21.3
    - elixir: 1.10.4
      otp_release: 22.3
    - elixir: 1.10.4
      otp_release: 23.3

    - elixir: 1.11.4
      otp_release: 21.3
    - elixir: 1.11.4
      otp_release: 22.3
    - elixir: 1.11.4
      otp_release: 23.3
    - elixir: 1.11.4
      otp_release: 24.1

    - elixir: 1.12.3
      otp_release: 22.3
    - elixir: 1.12.3
      otp_release: 23.3
    - elixir: 1.12.3
      otp_release: 24.1
      
    # additional checks
    - elixir: 1.12.3
      otp_release: 24.1
      install: skip
      script: mix format --check-formatted --dry-run
      env: FORMATTER=true # only as label in travis

script: mix coveralls.json
after_script:
  - bash <(curl -s https://codecov.io/bash)
